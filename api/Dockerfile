# Используем официальный образ Node.js
FROM node:alpine

# Определяем рабочую директорию внутри контейнера, куда будут загружены файлы
WORKDIR /time-app

# Сначала копируем указанные файлы для установки зависимостей
COPY package.json package-lock.json ./

# Выполняем установку пакетов на основе package.json
RUN npm install

# Добавляем исходный код приложения внутрь контейнера
COPY ./src ./src

# Переносим главный исполняемый файл
COPY index.mjs ./

# Делаем порт 5000 доступным для внешних подключений
EXPOSE 5000

# Запускаем сервер приложения
CMD ["npm", "start"]
